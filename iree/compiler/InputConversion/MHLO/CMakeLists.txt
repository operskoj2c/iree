################################################################################
# Autogenerated by build_tools/bazel_to_cmake/bazel_to_cmake.py from           #
# iree/compiler/InputConversion/MHLO/BUILD                                     #
#                                                                              #
# Use iree_cmake_extra_content from iree/build_defs.oss.bzl to add arbitrary   #
# CMake-only content.                                                          #
#                                                                              #
# To disable autogeneration for this file entirely, delete this header.        #
################################################################################

iree_add_all_subdirs()

iree_tablegen_library(
  NAME
    PassesIncGen
  TD_FILE
    "Passes.td"
  OUTS
    -gen-pass-decls Passes.h.inc
)

iree_cc_library(
  NAME
    PassHeaders
  HDRS
    "PassDetail.h"
    "Passes.h"
    "Passes.h.inc"
    "Rewriters.h"
  DEPS
    ::PassesIncGen
    MLIRPass
    MLIRTransforms
  PUBLIC
)

iree_cc_library(
  NAME
    MHLO
  HDRS
    "Passes.h"
  SRCS
    "BroadcastingToLinalgPatterns.cpp"
    "ConvertComplexToReal.cpp"
    "ConvertMHLOToFlow.cpp"
    "ConvertMHLOToFlow.h"
    "ConvertMHLOToLinalgExt.cpp"
    "FlattenTuplesInCFG.cpp"
    "LegalizeInputTypes.cpp"
    "MHLOToLinalgOnTensors.cpp"
    "MHLOToMHLOPreprocessing.cpp"
    "Passes.cpp"
    "VerifyCompilerMHLOInputLegality.cpp"
  DEPS
    ::PassHeaders
    ::PassesIncGen
    ChloDialect
    ChloPasses
    IREELinalgExtDialect
    IREELinalgExtPasses
    LLVMSupport
    LmhloDialect
    MLIRAffine
    MLIRComplex
    MLIRIR
    MLIRLinalg
    MLIRLinalgTransforms
    MLIRMath
    MLIRMemRef
    MLIRMhloUtils
    MLIRPass
    MLIRReconcileUnrealizedCasts
    MLIRSCFToStandard
    MLIRSCFTransforms
    MLIRShape
    MLIRShapeOpsTransforms
    MLIRShapeToStandard
    MLIRStandard
    MLIRSupport
    MLIRTensor
    MLIRTransforms
    MhloDialect
    MhloLhloToLinalg
    MhloPasses
    MhloToStandard
    iree::compiler::Dialect::Flow::IR
    iree::compiler::Dialect::Flow::Transforms
    iree::compiler::Dialect::Util::IR
    iree::compiler::InputConversion::Common
    tensorflow::external_mhlo_includes
  PUBLIC
)

### BAZEL_TO_CMAKE_PRESERVES_ALL_CONTENT_BELOW_THIS_LINE ###
# TODO: For some reason, these dependencies are not being added automatically.
add_dependencies(
  iree_compiler_InputConversion_MHLO_PassHeaders
  iree_compiler_InputConversion_MHLO_PassesIncGen
)
